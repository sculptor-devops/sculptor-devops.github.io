<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Security | Sculptor - Virtual devops</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="stylesheet" type="text/css" href="/player/asciinema-player.css">
    <script src="/player/asciinema-player.js"></script>
    <meta name="description" content="Sculptor - Virtual devops">
    <link rel="preload" href="/assets/css/0.styles.edd4b63f.css" as="style"><link rel="preload" href="/assets/js/app.3374f0f0.js" as="script"><link rel="preload" href="/assets/js/2.fca21449.js" as="script"><link rel="preload" href="/assets/js/13.71ca2aa6.js" as="script"><link rel="prefetch" href="/assets/js/10.94a40357.js"><link rel="prefetch" href="/assets/js/11.62ace156.js"><link rel="prefetch" href="/assets/js/12.b1934110.js"><link rel="prefetch" href="/assets/js/14.1826ed54.js"><link rel="prefetch" href="/assets/js/15.314f1e2c.js"><link rel="prefetch" href="/assets/js/3.28e1d571.js"><link rel="prefetch" href="/assets/js/4.f047856a.js"><link rel="prefetch" href="/assets/js/5.ce55bac2.js"><link rel="prefetch" href="/assets/js/6.8f951788.js"><link rel="prefetch" href="/assets/js/7.c19a99df.js"><link rel="prefetch" href="/assets/js/8.814f1134.js"><link rel="prefetch" href="/assets/js/9.1d1dbf22.js">
    <link rel="stylesheet" href="/assets/css/0.styles.edd4b63f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/statue.svg" alt="Sculptor - Virtual devops" class="logo"> <span class="site-name can-hide">Sculptor - Virtual devops</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/sculptor-devops" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/sculptor-devops" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction/" class="sidebar-link">Introduction</a></li><li><a href="/roadmap/" class="sidebar-link">Roadmap</a></li><li><a href="/installation/" class="sidebar-link">Installation</a></li><li><a href="/troubleshooting/" class="sidebar-link">Troubleshooting</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Platform</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/compatibility/" class="sidebar-link">Compatibilty</a></li><li><a href="/software/" class="sidebar-link">Software</a></li><li><a href="/security/" aria-current="page" class="active sidebar-link">Security</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advanced</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="security"><a href="#security" class="header-anchor">#</a> Security</h1> <p></p><div class="table-of-contents"><ul><li><a href="#preface">Preface</a></li><li><a href="#ports-and-ssh">Ports and SSH</a></li><li><a href="#users">Users</a></li><li><a href="#privileged-queue">Privileged Queue</a></li><li><a href="#mysql">MySql</a></li><li><a href="#redis">Redis</a></li><li><a href="#supervisor">Supervisor</a></li><li><a href="#api">API</a></li><li><a href="#security-updates">Security Updates</a></li><li><a href="#encryption">Encryption</a></li></ul></div><p></p> <h2 id="preface"><a href="#preface" class="header-anchor">#</a> Preface</h2> <p>This model is what we aim for the 1.0 version of the Sculptor Devops System, will be implemented completely when main modules reach the stable beta release stage. This model can be customized using service config files, but the correct behavior is reach with this model.</p> <h2 id="ports-and-ssh"><a href="#ports-and-ssh" class="header-anchor">#</a> Ports and SSH</h2> <p>The list of port opened are simple <strong>http</strong>, <strong>https</strong> and <strong>ssh</strong> ports, initially ssh login is available for root user this due to the fact that some provider use this kind of authentication; if yo want you can rmeove the access tho this user and use ubuntu or anothe one. Remember that authentication is monitored by <strong>fail2ban</strong> service that firewall all user that hammer this specific port. The sculptor agend is listening on <strong>9443</strong> port to separate applications and for a more scan proof configuration.</p> <h2 id="users"><a href="#users" class="header-anchor">#</a> Users</h2> <p>In the default installation there are three different users that come into play, <strong>www-data</strong>, <strong>www</strong> and <strong>sculptor</strong>. The first one, <strong>www-data</strong>, is the default Ubuntu user to serve http requests, is used for Sculptor Agent that is a Laravel Application. The second one, <strong>www</strong>, is created with no shell access and serve the pool of the web sites, all data are located in <strong>/home/www</strong>. The third is the privileged sculptor uses and isa a sudoer with no shell access, is used to serve system call that need elevete privilege.</p> <h2 id="privileged-queue"><a href="#privileged-queue" class="header-anchor">#</a> Privileged Queue</h2> <p>The agent spawn two services with different level of privileges, the first run with <strong>www-data</strong> (the same as the api) to run unprivileged operations such as notications or monitoring. Elevated privileges run under <strong>sculptor</strong> privileged user, this queue communicate with the agent with a queue worker so api agent is isolated from privileged queue.</p> <h2 id="mysql"><a href="#mysql" class="header-anchor">#</a> MySql</h2> <p>The database root password is stored in the sulptor privileged user home to let the queue work with the database, no other process can access or manage databases. Every database user created have only access to its own database and cannot share access to other datas.</p> <h2 id="redis"><a href="#redis" class="header-anchor">#</a> Redis</h2> <p>Thi service is installed to provide queue management and caching, is a key/value database; is not secured with password but security is granted by hash keys.</p> <h2 id="supervisor"><a href="#supervisor" class="header-anchor">#</a> Supervisor</h2> <p>Every site can define its own queue that run under supervisor, the user that run this process is the same of the sites pool.</p> <h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <p>The model does allow crud operations on domains and database entity but will not access directly to the domains data such as db or files, this to maintain an elevate grade of isolation. Authentication is provided by <strong>JWT</strong> token.</p> <h2 id="security-updates"><a href="#security-updates" class="header-anchor">#</a> Security Updates</h2> <p>System security updates are run by the system autonomously, only unattended security updates are run, other upgrades must be provided manually to have less breaking changs as possible.</p> <h2 id="encryption"><a href="#encryption" class="header-anchor">#</a> Encryption</h2> <p>Every data that need encryptions, where not specified, is dove using <strong>Crypt</strong> facade so under the hood the app key is used, keep it safe.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/software/" class="prev">
        Software
      </a></span> <span class="next"><a href="/advanced/">
        Installer
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3374f0f0.js" defer></script><script src="/assets/js/2.fca21449.js" defer></script><script src="/assets/js/13.71ca2aa6.js" defer></script>
  </body>
</html>

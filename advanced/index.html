<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installer | Sculptor - Virtual devops</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="stylesheet" type="text/css" href="/player/asciinema-player.css">
    <script src="/player/asciinema-player.js"></script>
    <meta name="description" content="Sculptor - Virtual devops">
    <link rel="preload" href="/assets/css/0.styles.edd4b63f.css" as="style"><link rel="preload" href="/assets/js/app.af99bade.js" as="script"><link rel="preload" href="/assets/js/2.fca21449.js" as="script"><link rel="preload" href="/assets/js/8.a38d8edb.js" as="script"><link rel="prefetch" href="/assets/js/10.199ffc58.js"><link rel="prefetch" href="/assets/js/11.89bae4c0.js"><link rel="prefetch" href="/assets/js/12.afdcd99c.js"><link rel="prefetch" href="/assets/js/13.a716e7b2.js"><link rel="prefetch" href="/assets/js/14.2a791c02.js"><link rel="prefetch" href="/assets/js/15.314f1e2c.js"><link rel="prefetch" href="/assets/js/3.28e1d571.js"><link rel="prefetch" href="/assets/js/4.f047856a.js"><link rel="prefetch" href="/assets/js/5.ce55bac2.js"><link rel="prefetch" href="/assets/js/6.8f951788.js"><link rel="prefetch" href="/assets/js/7.66e5514a.js"><link rel="prefetch" href="/assets/js/9.3f1b1b73.js">
    <link rel="stylesheet" href="/assets/css/0.styles.edd4b63f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/statue.svg" alt="Sculptor - Virtual devops" class="logo"> <span class="site-name can-hide">Sculptor - Virtual devops</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/sculptor-devops" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/sculptor-devops" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction/" class="sidebar-link">Introduction</a></li><li><a href="/roadmap/" class="sidebar-link">Roadmap</a></li><li><a href="/installation/" class="sidebar-link">Installation</a></li><li><a href="/troubleshooting/" class="sidebar-link">Troubleshooting</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Platform</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/compatibility/" class="sidebar-link">Compatibilty</a></li><li><a href="/software/" class="sidebar-link">Software</a></li><li><a href="/security/" class="sidebar-link">Security</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Advanced</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced/" aria-current="page" class="active sidebar-link">Installer</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="installer"><a href="#installer" class="header-anchor">#</a> Installer</h1> <p>The installer is not meant to be used for Sculptor only, you can customize and skip certaint steps.</p> <p></p><div class="table-of-contents"><ul><li><a href="#available-stages">Available stages</a></li><li><a href="#run-only-one-stage">Run only one stage</a></li><li><a href="#customized-stages">Customized stages</a></li><li><a href="#summary">Summary</a></li></ul></div><p></p> <h2 id="available-stages"><a href="#available-stages" class="header-anchor">#</a> Available stages</h2> <p>This will show all stages available.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./installer list-stages

Running on OS Version <span class="token number">18.04</span>
You can see detailed log <span class="token keyword">in</span> /root/installer.log
Every step can take several minutes
+------+----------------+
<span class="token operator">|</span> Step <span class="token operator">|</span> Name           <span class="token operator">|</span>
+------+----------------+
<span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> Credentials    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> Superuser      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>    <span class="token operator">|</span> Motd           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>    <span class="token operator">|</span> Ntp            <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span>    <span class="token operator">|</span> Php Cgi        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6</span>    <span class="token operator">|</span> Base Packages  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7</span>    <span class="token operator">|</span> SSH Daemon     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">8</span>    <span class="token operator">|</span> NodeJs         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">9</span>    <span class="token operator">|</span> Nginx          <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">10</span>   <span class="token operator">|</span> MySql Server   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">11</span>   <span class="token operator">|</span> Redis Server   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">12</span>   <span class="token operator">|</span> Let's Encrypt  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">13</span>   <span class="token operator">|</span> Composer       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">14</span>   <span class="token operator">|</span> Deployer       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">15</span>   <span class="token operator">|</span> Firewall       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">16</span>   <span class="token operator">|</span> Crontab        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">17</span>   <span class="token operator">|</span> Check services <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">18</span>   <span class="token operator">|</span> Agent          <span class="token operator">|</span>
+------+----------------+
</code></pre></div><h2 id="run-only-one-stage"><a href="#run-only-one-stage" class="header-anchor">#</a> Run only one stage</h2> <p>You can specify a signle step to be run directly from the command line, you need only to specify wich step. Remember to quote the step that is as you can see in the list stages and is case isensitive.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./installer run-stage --step<span class="token operator">=</span><span class="token string">&quot;credentials&quot;</span>

Running on OS Version <span class="token number">18.04</span>
You can see detailed log <span class="token keyword">in</span> /root/installer.log
Every step can take several minutes
Running credentials: ✔
Run <span class="token function">time</span> taken 00:00:00
+-------------------+------------------------------+
<span class="token operator">|</span> name              <span class="token operator">|</span> value                        <span class="token operator">|</span>
+-------------------+------------------------------+
<span class="token operator">|</span> Public IP         <span class="token operator">|</span> <span class="token punctuation">[</span>AN IP<span class="token punctuation">]</span>                      <span class="token operator">|</span>
<span class="token operator">|</span> Password          <span class="token operator">|</span> <span class="token punctuation">[</span>A PASSWORD<span class="token punctuation">]</span>                 <span class="token operator">|</span>
<span class="token operator">|</span> Database Password <span class="token operator">|</span> <span class="token punctuation">[</span>A DB PASSWORD<span class="token punctuation">]</span>              <span class="token operator">|</span>
+-------------------+------------------------------+
</code></pre></div><h2 id="customized-stages"><a href="#customized-stages" class="header-anchor">#</a> Customized stages</h2> <p>You can create a custom stage list creating a yml with the desidered stages. For example if you want to install a Nginx/Mysql machine you can delete the agent installation.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>All steps need to be run after credential steps that prepare the env, do not remove. The MySql step cannot be run twice if already installed, you need to purge installation and content.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code>./installer config
Writing customizable /root/sculptor/installer.yml
</code></pre></div><p>Here the example file.</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">stages</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Credentials <span class="token comment"># Mandatory do not remove</span>
  <span class="token punctuation">-</span> SuUser
  <span class="token punctuation">-</span> Motd
  <span class="token punctuation">-</span> Ntp
  <span class="token punctuation">-</span> Php
  <span class="token punctuation">-</span> Packages
  <span class="token punctuation">-</span> Sshd
  <span class="token punctuation">-</span> NodeJs
  <span class="token punctuation">-</span> Nginx
  <span class="token punctuation">-</span> MySql
  <span class="token punctuation">-</span> Redis
  <span class="token punctuation">-</span> LetsSEncrypt
  <span class="token punctuation">-</span> Composer
  <span class="token punctuation">-</span> Deployer
  <span class="token punctuation">-</span> Firewall
  <span class="token punctuation">-</span> Crontab
  <span class="token punctuation">-</span> CheckServices
  <span class="token punctuation">-</span> Agent
</code></pre></div><p>You can additionally dump configuration stubs also, so you cand specify certain options forn nginx or other services; all date will be put in custom_templates folder.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./installer config --templates 
Customized configuration already exists /root/sculptor/installer.yml
Writing template /root/sculptor/custom_templates/agent-deploy.php
Writing template /root/sculptor/custom_templates/agent-env
Writing template /root/sculptor/custom_templates/env
Writing template /root/sculptor/custom_templates/file2ban.conf
Writing template /root/sculptor/custom_templates/index.html
Writing template /root/sculptor/custom_templates/motd
Writing template /root/sculptor/custom_templates/nginx.conf
Writing template /root/sculptor/custom_templates/ntp.conf
Writing template /root/sculptor/custom_templates/panel.crontab
Writing template /root/sculptor/custom_templates/php-pool.conf
Writing template /root/sculptor/custom_templates/php.ini
Writing template /root/sculptor/custom_templates/sshd.conf
Writing template /root/sculptor/custom_templates/sudoer.conf
Writing template /root/sculptor/custom_templates/system.scupltor.conf
</code></pre></div><p>Note: if one ore more files are already present will not be overweitter.</p> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <table><thead><tr><th>Command</th> <th>Parameter</th> <th>Description</th></tr></thead> <tbody><tr><td>list-stages</td> <td>None</td> <td>List all stages</td></tr> <tr><td>run</td> <td>None</td> <td>Start a new installation</td></tr> <tr><td>run-stage</td> <td>--step=&quot;STEP NAME&quot;</td> <td>Run a single step, see list for names</td></tr> <tr><td>config</td> <td>--templates</td> <td>Create a customizable installation.yml, with --templates will create a folder with all templates that can be customized.</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/security/" class="prev">
        Security
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.af99bade.js" defer></script><script src="/assets/js/2.fca21449.js" defer></script><script src="/assets/js/8.a38d8edb.js" defer></script>
  </body>
</html>
